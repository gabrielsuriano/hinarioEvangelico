#!/bin/sh

# Hook: post-commit
# Executado APÃ“S o commit ser finalizado
# Verifica se package.json foi modificado pelo versionamento e faz amend

# Verifica se hÃ¡ mudanÃ§as no package.json
if git diff --name-only | grep -q "package.json"; then
  echo "ðŸ“¦ VersÃ£o atualizada - fazendo amend..."
  
  # Adiciona package.json
  git add package.json
  
  # Amend no Ãºltimo commit (sem mudar a mensagem)
  git commit --amend --no-edit --no-verify
  
  echo "âœ… Commit atualizado com nova versÃ£o!"
fi

exit 0
