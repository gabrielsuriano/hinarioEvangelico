#!/bin/sh

# Hook pre-commit: Sincronização de versão
# O versionamento automático acontece no prepare-commit-msg

echo "� Verificando sincronização de versão..."

# Executa o script de sincronização
node scripts/sync-version.js

if [ $? -ne 0 ]; then
  echo "❌ Falha na sincronização de versão. Commit cancelado."
  exit 1
fi

# Adiciona nuxt.config.ts ao commit se foi modificado
git add nuxt.config.ts 2>/dev/null || true

echo "✅ Sincronização de versão OK!"
exit 0
