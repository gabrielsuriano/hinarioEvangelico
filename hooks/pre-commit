#!/bin/sh

# Hook pre-commit para sincronizar vers√£o
echo "üîÑ Verificando sincroniza√ß√£o de vers√£o..."

# Executa o script de sincroniza√ß√£o
node scripts/sync-version.js

# Se o script falhar, cancela o commit
if [ $? -ne 0 ]; then
  echo "‚ùå Falha na sincroniza√ß√£o de vers√£o. Commit cancelado."
  exit 1
fi

# Adiciona arquivos modificados ao commit
git add nuxt.config.ts 2>/dev/null || true

echo "‚úÖ Sincroniza√ß√£o de vers√£o OK!"
exit 0
